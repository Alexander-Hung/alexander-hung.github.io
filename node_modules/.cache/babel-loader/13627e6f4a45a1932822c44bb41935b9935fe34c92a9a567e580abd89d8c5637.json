{"ast":null,"code":"import React,{useState,useEffect,useContext,Suspense,lazy}from\"react\";import\"./Project.scss\";import Button from\"../../components/button/Button\";import{openSource,socialMediaLinks}from\"../../portfolio\";import StyleContext from\"../../contexts/StyleContext\";import Loading from\"../../containers/loading/Loading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const GithubRepoCard=/*#__PURE__*/lazy(()=>import(\"../../components/githubRepoCard/GithubRepoCard\"));const FailedLoading=()=>null;const renderLoader=()=>/*#__PURE__*/_jsx(Loading,{});export default function Projects(){/* â˜… rename: repos / setRepos */const[repos,setRepos]=useState([]);const{isDark}=useContext(StyleContext);useEffect(()=>{fetch(\"/profile.json\").then(r=>r.ok?r.json():Promise.reject(r)).then(json=>{var _ref,_json$data$user$pinne,_json$data,_json$data$user,_json$data$user$pinne2,_json$user,_json$user$pinnedItem;/* ðŸ”Ž optional: see the exact shape once */ //console.log(\"profile.json â†’\", json);\n// works whether the file has a top-level data{} or not\nconst edges=(_ref=(_json$data$user$pinne=json===null||json===void 0?void 0:(_json$data=json.data)===null||_json$data===void 0?void 0:(_json$data$user=_json$data.user)===null||_json$data$user===void 0?void 0:(_json$data$user$pinne2=_json$data$user.pinnedItems)===null||_json$data$user$pinne2===void 0?void 0:_json$data$user$pinne2.edges)!==null&&_json$data$user$pinne!==void 0?_json$data$user$pinne:json===null||json===void 0?void 0:(_json$user=json.user)===null||_json$user===void 0?void 0:(_json$user$pinnedItem=_json$user.pinnedItems)===null||_json$user$pinnedItem===void 0?void 0:_json$user$pinnedItem.edges)!==null&&_ref!==void 0?_ref:[];setRepos(edges);}).catch(err=>{console.error(err);setRepos(\"Error\");});},[]);/* â˜… guard uses repos */if(typeof repos===\"string\"||!openSource.display){return/*#__PURE__*/_jsx(FailedLoading,{});}return/*#__PURE__*/_jsx(Suspense,{fallback:renderLoader(),children:/*#__PURE__*/_jsxs(\"div\",{className:\"main\",id:\"opensource\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"project-title\",children:\"Github\"}),/*#__PURE__*/_jsx(\"div\",{className:\"repo-cards-div-main\",children:repos.map((edge,i)=>{if(!edge)return null;const imgSrc=`${process.env.PUBLIC_URL}/project-images/${edge.node.name}/showcase.png`;return/*#__PURE__*/_jsx(GithubRepoCard,{repo:edge,isDark:isDark,imgSrc:imgSrc},edge.node.id);})}),/*#__PURE__*/_jsx(\"div\",{className:\"project-button-wrapper\",children:/*#__PURE__*/_jsx(Button,{text:\"More Projects\",className:\"project-button\",href:socialMediaLinks.github,newTab:true})})]})});}","map":{"version":3,"names":["React","useState","useEffect","useContext","Suspense","lazy","Button","openSource","socialMediaLinks","StyleContext","Loading","jsx","_jsx","jsxs","_jsxs","GithubRepoCard","FailedLoading","renderLoader","Projects","repos","setRepos","isDark","fetch","then","r","ok","json","Promise","reject","_ref","_json$data$user$pinne","_json$data","_json$data$user","_json$data$user$pinne2","_json$user","_json$user$pinnedItem","edges","data","user","pinnedItems","catch","err","console","error","display","fallback","children","className","id","map","edge","i","imgSrc","process","env","PUBLIC_URL","node","name","repo","text","href","github","newTab"],"sources":["/Users/alexander/Documents/Github/alexander-hung.github.io dev/src/containers/projects/Projects.js"],"sourcesContent":["import React, { useState, useEffect, useContext, Suspense, lazy } from \"react\";\nimport \"./Project.scss\";\nimport Button from \"../../components/button/Button\";\nimport { openSource, socialMediaLinks } from \"../../portfolio\";\nimport StyleContext from \"../../contexts/StyleContext\";\nimport Loading from \"../../containers/loading/Loading\";\n\nconst GithubRepoCard = lazy(() =>\n  import(\"../../components/githubRepoCard/GithubRepoCard\")\n);\n\nconst FailedLoading = () => null;\nconst renderLoader = () => <Loading />;\n\nexport default function Projects() {\n  /* â˜… rename: repos / setRepos */\n  const [repos, setRepos] = useState([]);\n  const { isDark } = useContext(StyleContext);\n\n  useEffect(() => {\n    fetch(\"/profile.json\")\n      .then((r) => (r.ok ? r.json() : Promise.reject(r)))\n      .then((json) => {\n        /* ðŸ”Ž optional: see the exact shape once */\n        //console.log(\"profile.json â†’\", json);\n\n        // works whether the file has a top-level data{} or not\n        const edges =\n          json?.data?.user?.pinnedItems?.edges ??\n          json?.user?.pinnedItems?.edges ??\n          [];\n\n        setRepos(edges);\n      })\n      .catch((err) => {\n        console.error(err);\n        setRepos(\"Error\");\n      });\n  }, []);\n\n\n  /* â˜… guard uses repos */\n  if (typeof repos === \"string\" || !openSource.display) {\n    return <FailedLoading />;\n  }\n\n  return (\n    <Suspense fallback={renderLoader()}>\n      <div className=\"main\" id=\"opensource\">\n        <h1 className=\"project-title\">Github</h1>\n\n        <div className=\"repo-cards-div-main\">\n          {repos.map((edge, i) => {\n            if (!edge) return null;\n\n            const imgSrc = `${process.env.PUBLIC_URL}/project-images/${edge.node.name}/showcase.png`;\n\n            return (\n              <GithubRepoCard\n                key={edge.node.id}\n                repo={edge}\n                isDark={isDark}\n                imgSrc={imgSrc}\n              />\n            );\n          })}\n        </div>\n\n        <div className=\"project-button-wrapper\">\n          <Button\n            text=\"More Projects\"\n            className=\"project-button\"\n            href={socialMediaLinks.github}\n            newTab\n          />\n        </div>\n      </div>\n    </Suspense>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}